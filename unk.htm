<!DOCTYPE html><html><head><meta charset="UTF-8"><title>unk</title><script type="text/javascript">
function o(x,w){return x<0?0:x<w?x:w}
mg="pt ＭＳ ゴシック"
s=w=h=ar=kr=avx=avy=1
st=p=ht1=kd=kx=ky=ax=ay=0
u=Array(0)
onblur=function(){
p=1
ht1=t1}
onfocus=function(){
p=0
if(st==1){
t-=t1-ht1}}
onmousemove=function(e){
if(st==2){kd=0}else{
if(kd){
kx=e.clientX
ky=e.clientY
kx=o(kx,w)
ky=o(ky,h)}}}
onmousedown=function(e){
if(e.button!=2){
if(st==2){
if(to>2000){
st=0
init()
}}else{
if(st==0){st=1} 
dx=e.clientX-kx
dy=e.clientY-ky
kd=kr*kr>dx*dx+dy*dy
if(!kd){
dx=e.clientX-ax
dy=e.clientY-ay
if(kr*kr>dx*dx+dy*dy){
}else{
for(i=u.length-1;i>=0;i--){
dx=e.clientX-u[i].x
dy=e.clientY-u[i].y
if(kr*kr>dx*dx+dy*dy){
u.splice(i,1)
uc++
if(uc==10){
uv=Math.max(uv,s/100000)
}else if(uc%20==0){
uv=Math.min(uv*2,s/1000)}
break
}}}}}}}
onmouseup=function(e){
kd=0}
onresize=function(){
sw=document.body.scrollWidth,
sh=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)
s1=sw<sh?sw:sh 
a=s1/s
kx=(kx-w/2)*a+sw/2
ky=(ky-h/2)*a+sh/2
kx=o(kx,sw)
ky=o(ky,sh)
ax=(ax-w/2)*a+sw/2
ay=(ay-h/2)*a+sh/2
ax=o(ax,sw)
ay=o(ay,sh)
kr*=a
ar*=a
avx*=a
avy*=a
for(i=0;i<u.length;i++){
u[i].x=(u[i].x-w/2)*a+sw/2
u[i].y=(u[i].y-h/2)*a+sh/2
u[i].x=o(u[i].x,sw)
u[i].y=o(u[i].y,sh)
u[i].vx*=a
u[i].vy*=a
}
s=s1
c.width =w=sw
c.height=h=sh
}
function init(){
ax=kx=w/2
ky=h/2
ay=h/20
ar=kr=s/20
avy=avx=s/4000
u.length=t=st=ut=uv=uc=to=0
uT=1000
}
t1=0
onload=function(){
c=document.getElementById('c')
g=c.getContext("2d")
w=c.width
h=c.height
s=w<h?w:h

init()
onresize()
requestAnimationFrame(
function(t2){
dt=t2-t1
t1=t2
g.fillStyle='rgb(255,255,255)'
g.fillRect(0,0,w,h);
f()
g.textAlign='left'
g.font=s/20+mg
g.fillStyle='rgb(0,0,0)'
g.fillText(Math.round(1000/dt)+'fps',0,s/18)
requestAnimationFrame(arguments.callee)
})}
function f(){
if(document.hidden){
return
}
if(st==0){
for(i=0;i<u.length;i++){
up(u[i].x,u[i].y,s/20)
}
ap(ax,ay,ar)
kp(kx,ky,kr)
g.textAlign='center'
g.font=s/20+mg
g.fillStyle='rgb(0,0,0)'
g.fillText('かえるをドラッグでうごかして',w/2,h/2-s/2+s*5/20)
g.fillText('あひるとうんこをよけるゲーム',w/2,h/2-s/2+s*5/20+s*1.5/20)
g.fillText('クリックでスタート',w/2,h/2-s/2+s*15/20)
}else if(st==1){
if(p){
 ht1=t1
}else{
t+=dt
if(t>1000*60){
uv=Math.max(uv,s/100000)
}
for(i=0;i<u.length;i++){
u[i].x+=u[i].vx*dt
u[i].y+=u[i].vy*dt
if(u[i].x<0){u[i].vx*=-1;u[i].x=0;}else if(u[i].x>w){u[i].vx*=-1;u[i].x=w;}
if(u[i].y<0){u[i].vy*=-1;u[i].y=0;}else if(u[i].y>h){u[i].vy*=-1;u[i].y=h;}
}
ut+=dt
if(ut>uT){
ut-=uT
dx=kx-ax
dy=ky-ay
dr=Math.sqrt(dx*dx+dy*dy)
if(uc>100){
u.push({x:ax,y:ay,vx:-uv*dx/dr,vy:-uv*dy/dr})
}
if(uc>200){
u.push({x:ax,y:ay,vx:-uv*dy/dr,vy:uv*dx/dr})
u.push({x:ax,y:ay,vx:uv*dy/dr,vy:-uv*dx/dr})
}
u.push({x:ax,y:ay,vx:uv*dx/dr,vy:uv*dy/dr})
}
ax+=avx*dt
ay+=avy*dt
if(ax<0){avx*=-1;ax=0}else if(ax>w){avx*=-1;ax=w}
if(ay<0){avy*=-1;ay=0}else if(ay>h){avy*=-1;ay=h}
dx=ax-kx
dy=ay-ky
dr=ar+kr
if(dr*dr>dx*dx+dy*dy){st=2}
for(i=0;i<u.length;i++){
dx=u[i].x-kx
dy=u[i].y-ky
dr=ar+kr
if(dr*dr>dx*dx+dy*dy){st=2}}}
for(i=0;i<u.length;i++){
up(u[i].x,u[i].y,s/20)}
ap(ax,ay,ar)
kp(kx,ky,kr)
if(p){
g.textAlign='center'
g.font=s/6+mg
g.fillStyle='rgb(0,0,0)'
g.fillText('PAUSE',w/2,h/2)}
}else{
to+=dt
for(i=0;i<u.length;i++){
up(u[i].x,u[i].y,s/20)}
ap(ax,ay,ar)
kp(kx,ky,kr)
g.textAlign='center'
g.font=s/6+mg
g.fillStyle='rgb(0,0,0)'
g.fillText('GAME OVER',w/2,h/2)
g.font=s/20+mg
if(to>2000){g.fillText('もっかいやる？',w/2,h-s/200)}
if(to>1000){
g.fillText('ヒント',w/2,h/2-s/2+s*13.5/20)
g.fillText('うんこはクリックで消せるよ',w/2,h/2-s/2+s*15/20)}}
g.textAlign='right'
g.font=s/20+mg
g.fillStyle='rgb(0,0,0)'
g.fillText(Math.floor(t)+'ms',w,s/18)
if(uc>0){
g.textAlign='left'
g.font=s/20+mg
g.fillStyle='rgb(0,0,0)'
g.fillText(uc+'unk',0,h-s/200)}}
function en(x,y,r){
g.beginPath()
g.arc(x,y,r,0,Math.PI*2,0)
g.closePath()
g.fill()
g.stroke()}
function daen(x,y,rx,ry){
g.beginPath()
ellipse2(x,y,rx,ry,0,Math.PI*2,0)
g.closePath()
g.fill()
g.stroke()}
function ellipse2(x,y,rx,ry,t1,t2,d){
g.scale(1,ry/rx)
g.arc(x,y*rx/ry,rx,t1,t2,d)
g.scale(1,rx/ry)}
function up(x,y,r){
y-=r*0.1
g.fillStyle='rgb(255,255,255)'
daen(x,y+r/2,r,r/2)
daen(x,y,r*0.9,r/2*0.8)
g.beginPath()
ellipse2(x,y-r*0.5,r*0.7,r*0.4,-Math.PI/2,Math.PI/2,1)
ellipse2(x,y-r*0.5+r*0.1,r*0.7,r*0.3,Math.PI/2,-Math.PI/2,1)
ellipse2(x,y-r*0.5-r*0.3,r*0.1,r*0.1,Math.PI/2,-Math.PI/2,0)
g.closePath()
g.fill()
g.stroke()}
function ap(x,y,r){
g.fillStyle='rgb(255,255,255)'
daen(x,y,r*1.1,r)
daen(x-r/2,y-r/4,r/5,r/2.5)
daen(x+r/2,y-r/4,r/5,r/2.5)
daen(x-r/2,y-r/4,r/15,r/5)
daen(x+r/2,y-r/4,r/15,r/5)
daen(x,y+r/2.25,r/2,r/3.5)
g.beginPath()
g.moveTo(x-r/4,y+r/2.25)
g.lineTo(x+r/4,y+r/2.25)
g.stroke()}
function kp(x,y,r){
if(st==2){x+=Math.random()*4-2}
g.fillStyle='rgb(255,255,255)'
en(x-r/2,y-r*0.8,r/3)
en(x+r/2,y-r*0.8,r/3)
en(x,y,kr)
en(x-kr/2,y-kr/4,kr/3)
en(x+kr/2,y-kr/4,kr/3)
g.beginPath()
if(st==2){
g.moveTo(x-kr/1.5,y-kr/4+kr/6)
g.lineTo(x-kr/3,y-kr/4)
g.lineTo(x-kr/1.5,y-kr/4-kr/6)
g.moveTo(x+kr/1.5,y-kr/4+kr/6)
g.lineTo(x+kr/3,y-kr/4)
g.lineTo(x+kr/1.5,y-kr/4-kr/6)
}else{
g.moveTo(x-kr/2,y-kr/4-0.5)
g.lineTo(x-kr/2,y-kr/4+0.5)
g.moveTo(x+kr/2,y-kr/4-0.5)
g.lineTo(x+kr/2,y-kr/4+0.5)}
g.stroke()
g.beginPath()
g.arc(x+kr/6,y+kr/3,kr/6,0,Math.PI,0)
g.arc(x-kr/6,y+kr/3,kr/6,0,Math.PI,0)
g.stroke()}
</script></head><body style="overflow:hidden"><canvas id="c" style="position:fixed;top:0px;left:0px;"></canvas></body></html>